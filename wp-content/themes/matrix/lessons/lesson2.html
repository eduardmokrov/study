<!DOCTYPE html>
<!--[if lt IE 7]><html lang="ru" class="lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html lang="ru" class="lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html lang="ru" class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="ru">
<!--<![endif]-->

<head>
	  <meta charset="utf-8" />
	 <title>Заголовок</title>
	 <meta name="description" content="" />
	 <meta http-equiv="X-UA-Compatible" content="IE=edge" />
	 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	 <link rel="stylesheet" href="../css/bootstrap.css" />
</head>

<body>
	 <div class="container">
		  <div class="row">
				<h1>Урок 2</h1>
				<h2>Введение в объектно-ориентированное программирование</h2>
					Мир, в котором мы живем, с точки зрения объектно-ориентированного программирования, состоит из взаимодействующих объектов. В качестве примера объекта рассмотрим ручку, которой я пишу.
				<p>
					Ручек в мире много, но у всех их есть нечто общее – их предназначение. Ими можно писать. Ручки могут быть очень разные: шариковые, капилярные, перьевые, с колпачком и без, включающиеся, с несколькими стержнями и с одним. Но все это многообразие – всего лишь ручки.
				<p>
					Рассмотрим все существующие в мире ручки. Множество всех ручек назовем словом класс. Это слово надо запомнить. Множество – это класс, а его элементы – объекты. Итак, множество всех ручек – это класс. Назовем этот класс Ручка – с большой буквы, чтобы не путать его с ручкой, которой я пишу.
				<p>
					Или по-другому. В программе есть ручки,  элементы класса Ручка, или иначе - объекты класса Ручка, с помощью которых смоделированы взаимодействия ручек реального мира для нужд заказчика. Класс Ручка – это описание всех возможных в программе ручек. Объектом класса Ручка, или его экземпляром, может быть Ручка с Золотым Пером Parker Duоfold Pearl&Black за 1 тыс. долларов.   Класс задает, какие действия и свойства могут быть у любой ручки в этой программе.
				<h2>Инкапсуляция</h2>
					Когда я был маленьким, я не понимал, как устроена автоматическая ручка. В ней было много деталек: пружинка, кнопочка, стержень. Устройство ручки казалось мне очень сложным. Но это не мешало мне нормально пользоваться ручкой, не испытывая никаких проблем. Получается, что механизм ручки был от меня скрыт, хотя я ей и пользовался. Сокрытие внутренней структуры, сложности объекта называется инкапсуляция.
				<p>
					Назначение инкапсуляции – не дать пользователю запутаться во внутренних деталях объекта. Пользователь знает, как взять ручку и как ей вести по поверхности – и это все, что ему нужно для использования ручки.
				<p>
					Когда объекты класса инкапсулируют некую структуру, говорят, что сам класс инкапсулирует эту структуру.
				<h2>Подклассы и наследование</h2>
					Выделим в классе Ручка несколько подмножеств: ручки шариковые, перьевые и капиллярные. Совершенно очевидно, что ручки из любого подмножества тоже могут выполнять главную функцию ручки – писать.
				<p>
					Подмножества класса называются подклассами, а сам класс в таком случае – базовым. Класс, его подклассы, их подклассы составляют иерархию классов. Подкласс также называют дочерним классом, а его базовый класс – родительским.
				<p>
					В объектах подклассов есть все те свойства, которые есть и в базовом классе – шариковые, перьевые и капиллярные ручки могут писать. При этом каждый подкласс обладает присущими только ему особенностями: шариковые ручки содержат маленький шарик, по которому удобно стекают чернила; в перьевых ручках чернила стекают по желобку, а шарика нет; в капиллярных ручках чернила пропитывают капилляры, как в маркерах.
				<p>
					Явление, когда в классе выделяют одно или несколько подмножеств, и каждое из подмножеств содержит и общие свойства класса, и что-то свое, особенное, называется наследование. Например, подкласс Шариковая ручка наследует основную функцию ручки – писать, добавляя к этому свой способ писания – с помощью шарика.
				<p>
					По правилам языка Java один объект может относится только к одному классу. Важно выделять подклассы таким образом, чтобы один объект нельзя было отнести сразу к нескольким подклассам.
				<p>
					Например, если рассмотреть класс Дверь и его подклассы Деревянная дверь, Железная дверь и Дверь с замком, то непонятно, к какому подклассу отнести железную дверь с замком. Железную дверь с замком с равным правом можно отнести и к подклассу Железная дверь, и к подклассу Дверь с замком. А это противоречит правилам Java. Если один объект можно отнести к нескольким классам сразу, значит, иерархия классов создана некорректно.
				<p>
					Чтобы иерархии классов были корректными, используйте следующее правило: критерий разделения класса на подклассы должен быть одинаков на протяжении всего разделения. Например, критерием может быть материал двери, или размер, но никак не материал и размер одновременно.
				<h2>Полиморфизм</h2>
					Рассмотрим еще подробнее наши подклассы Ручки. Они все умеют делать одно общее действие　– писать. Но при этом каждый подкласс осуществляет это действие по-своему, собственным способом, не похожим на другие. Шариковая ручка пишет, как и перьевая, но способы писания сильно отличаются.
				<p>
					Явление, когда одно и то же действие базового класса по-разному осуществляется в дочерних классах, называется полиморфизм, а само действие – полиморфным, или переопределенным.
				<p>
					Инкапсуляция, наследование и полиморфизм являются тремя основными принципами объектно-ориентированного программирования.
				<p>
					Объекты из разных классов могут выполнять одинаковые действия. Например, объекты из классов Ручка, Карандаш, Маркер могут писать. При этом мы должны лишь зажать объект между пальцами и вести по поверхности. Какой бы объект мы ни взяли, мы сможем им писать, хотя внутренний принцип писания отличается. Полиморфное действие - это когда снаружи все одинаково (зажать и вести), а внутри все по-разному (в ручке чернила стекают по шарику, в карандаше грифель оставляет след, в маркере чернила пропитывают стержень и пачкают поверхность).
				<h2>Вопросы:</h2>
				<ol>
					<li>Какие объекты вы можете выделить вокруг себя? Компьютер, язык программирования, слово, воздух... Назовите не менее 10 объектов.</li>
					<li>Для чего служит инкапсуляция? Приведите 10 примеров объектов вокруг вас, которые скрывают от вас свою сложность.</li>
					<li>Что такое наследование? Приведите 10 примеров классов, и для каждого укажите один или несколько подклассов.</li>
					<li>Объясните, что такое полиморфизм. Для каждого подкласса из 3-го вопроса укажите, что именно можно назвать полиморфным действием.</li>
					<li>Есть класс Грузовой транспорт, и его основная функция – перемещать груз из точки А в точку Б. Приведите не менее 10 возможных подклассов этого класса. Каким образом функция перемещение грузов осуществляется в каждом из них? Является ли эта функция полиморфной?</li>
					<li>Рассмотрим класс Автомобиль. Что именно скрыто в нем от несведущего глаза?</li>
					<li>Рассмотрим класс Арифметическая операция и его подклассы Сложение, Умножение, Деление, Вычитание. Что общее у всех арифметических операций? Какое действие они осуществляют? Как каждый подкласс осуществляет это действие? Является ли это действие полиморфным?</li>
					<li>Рассмотрим класс Операция с кредитной карточкой. Что общее есть у всех операций с кредитной карточкой? Выделите 2 или больше возможных подкласса. Что именно скрыто от пользователя пластиковой карты? Чем отличаются выделенные операции?</li>
					<li>Возьмем класс Колесо с функцией “катиться” и его подклассы Железное колесо, Круглый спил дерева и Автомобильное колесо. Что у них общего? Чем они отличаются? Будет ли основная функция Колеса полиморфна в подклассах или нет? Почему?</li>
					<li>Возьмем класс Пища. Какие могут быть подклассы? Какие свойства или процессы от нас инкапсулированы? Есть ли полиморфные действия в разных подклассах?</li>
					<li>
						Правильно ли выстроены следующие иерархии классов и почему:
						<ul>
							<li>Абажур – бумажный, тканевый, черный, красный.</li>
							<li>Компьютер – ноутбук, стационарный, встроенный в машину.</li>
							<li>Ручка – перьевая, шариковая.</li>
							<li>Ручка – перьевая, шариковая, красная, с невидимыми чернилами.</li>
							<li>Доставка – срочная, отложенная.</li>
							<li>Доставка – по Беларуси, по России, по миру.</li>
							<li>Доставка – почтой, на Марс, срочная.</li>
							<li>Метод оплаты – наличными, картой, переводом.</li>
							<li>Метод оплаты – наличными, картой, переводом, наложенным платежом.</li>
						</ul>
					</li>
					<li>Возьмем класс Двигатель с его функцией “крутить вал” и его подклассы Большой двигатель, Паровой двигатель, Двигатель внутреннего сгорания. Для каких подклассов основная функция Двигателя будет полиморфна? К какому подклассу будет принадлежать объект – двигатель, работавший на Титанике?</li>
					<li>Рассмотрим 2 класса – Ручка и Человек. Какие действия могут выполнять объекты этих классов совместно, взаимодействуя? Для каких действий нужно участие объектов двух классов? Что изменится, если оказалось, что мы взяли подкласс Палец в качестве Ручки?</li>
				</ol>
				<h2>Взаимодействие между объектами</h2>
					До сих пор мы рассматривали только отдельные иерархии классов. В реальном мире взаимодействуют одновременно много объектов из разных иерархий. Например, Водитель взаимодействует с Автомобилем и через него с Дорогой.
				<p>
					Объектов очень много, и чтобы не теряться в разных способах взаимодействия, выделили некоторые общепринятые способы, с помощью которых могут взаимодействовать объекты из разных иерархий. Например, все подклассы класса Ручка взаимодействуют с поверхностью, скользя по ней. При этом на поверхности остаются чернила, а мы это называем “Ручка пишет”. Еще один пример – объект класса Человек, который берет ручку рукой, зажимая между пальцами, и ведет ей по поверхности. Человек – любой – может обращаться с любой ручкой тем же самым способом – обхватить ее пальцами и двигать по бумаге. Наличие одного и того же способа взаимодействия сильно упрощает жизнь: научившись писать одной ручкой, мы можем писать любыми ручками, вне зависимости от того, из какого они подкласса – Шариковые, Капиллярные или Перьевые; научившись водить машину – мы можем управлять любой машиной.
				<p>
					Полиморфизм и инкапсуляция обеспечивают унифицированные, всеобщие способы взаимодействия объектов. С помощью инкапсуляции скрываются внутренние детали от пользователя, нескрытыми остаются лишь унифицированные части – корпус у ручки; педали, руль и зеркала у автомобиля. А с помощью полиморфизма мы можем взаимодействовать с ручкой из любого подкласса. Обхватываем пальцами любую ручку и пишем, а ручка сама реализует свое собственное полиморфное действие.
				<p>
					Унифицированный способ взаимодействия между объектами называется интерфейс. Интерфейс автомобиля – его руль, педали и зеркала. Интерфейс ручки – пишущая часть и корпус.
				<p>
					Интерфейс – это то, посредством чего происходит взаимодействие между объектами. Интерфейс компьютера для человека – это монитор, клавиатура, кнопки, мышь, динамик.
				<p>
					Про интерфейс можно говорить только в том случае, если есть два или больше взаимодействующих объектов. Часто не упоминают один из взаимодействующий объекта, но он всегда подразумевается. Так, монитор, клавиатура, кнопки – это интерфейс компьютера для взаимодействия с другим объектом – человеком. Кроме этого интерфейса, у компьютера есть еще много интерфейсов – для взаимодействия с другими компьютерами по сети, для подключения к wifi-точке. Например, для гравитационного взаимодействия с другими объектами интерфейсом является масса компьютера. 
				<p>
					Вы всегда должны представлять, между сколькими и между какими объектами этот интерфейс обеспечивает взаимодействие, и всегда должны быть в состоянии назвать тот объект взаимодействия, который подразумевается. Так как один объект сам по себе ни с чем взаимодействовать не может, то и интерфейса для одного объекта не существует. Даже если этот объект взаимодействует сам с собой (человек моется), то всегда можно указать часть этого объекта, которая взаимодействует с одной стороны взаимодействия, и часть этого объекта, которая взаимодействует с другой стороны взаимодействия (моется- рукой моет голову или руку). И в этом случае мы получаем две разных взаимодействующих части.
				<p>
					Все, о чем мы сейчас говорили, можно отнести как к реальному миру, так и к миру внутри программы. В этих обоих мирах есть иерархии классов, интерфейсы, объекты. Разница между ними одна – в мире программы объекты и их взаимодействие полностью определяются программистом. Поэтому очень важно грамотно создавать классы, следить за тем, чтобы все сложное и лишнее было инкапсулировано, чтобы иерархии классов были стройными и непротиворечивыми, и чтобы не было излишней сложности.
				<p>
					При продумывании того, какие объекты будут в нашей программе, важно понимать контекст задачи - не добавлять деталей больше чем необходимо, понимать, что нужно представить с большей детализацией, а чем можно пренебречь. Например, если мы моделируем взаимодействие лошади и телеги для решения задачи заказчика, то вряд ли взаимодействие мух и лошади будет самым важным. А если мы разрабатываем ветеринарное приложение для конюхов, то вполне возможно, что именно мухи окажутся в центре внимания.
				<p>
					При продумывании взаимодействия, между объектами всегда нужно понимать, взаимодействие между какими объектами описывает этот интерфейс. И нужно уметь обосновать взаимодействие именно этих объектов с помощью именно этого интерфейса - почему этот интерфейс актуален для данной задачи, почему этот интерфейс оптимален для данной задачи (не содержит лишних деталей и не упускает необходимые детали).
				<p>
					Типовые задачи, встречающиеся при проектировании мира программы, и их решения вместе называются шаблонами проектирования. О них мы начнем говорить только когда пройдем все базовые темы.
				<h2>Еще одно определение интерфейса</h2>
					Как вы уже поняли, интерфейс – это способ взаимодействия между объектами.
				<p>
					Интерфейс можно рассматривать и с другой точки зрения – как договор между объектами о том, как именно они взаимодействуют. Этот договор обеспечивает более простой и понятный, а главное – всеобщий способ взаимодействия между объектами.
				<p>
					Например, интерфейс автомобиля – руль, педали и рычаг переключения скоростей – можно рассмотреть как договор между производителями автомобилей и водителями. Если кто-то хочет сделать новую машину, он присоединяется к этому договору, предоставляя руль, педали, и рычаг. У такого подхода есть большое достоинство – унифицированность, всеобщность. Договор не меняется от машины к машине, от водителя к водителю. Пересаживаясь в другую машину, вам не нужно каждый раз осваивать новый набор рычагов и педалей – они унифицированы. Каждый водитель знает, что любой машиной можно управлять с помощью руля, педалей и рычага.
				<p>
					А так как каждый водитель знает, как именно управлять любой машиной, то производителям автомобилей проще продавать свои машины – каждая новая модель не требует дополнительного обучения водителя. Проще и водителям – им не нужно осваивать новый набор элементов управления.
				<h2>Вопросы:</h2>
				<ol>
					<li>Что такое интерфейс? Каков интерфейс кружки, которую использует человек?</li>
					<li>Продумайте средства управления автомобилем для осьминога.</li>
					<li>Каков интерфейс человека?</li>
					<li>Каков интерфейс книги? Свитка? Арабской книги?</li>
					<li>Если взять в качестве класса Слово, какой у него будет интерфейс? Учтите, что слово может быть услышано, прочитано, или написано пальцем на коже.</li>
					<li>Является ли азбука Морзе интерфейсом? Взаимодействие каких объектов обеспечивает азбука Морзе?</li>
					<li>Каков интерфейс взаимодействия солнца и зеленого растения? Что инкапсулировано в обоих объектах?</li>
					<li>Каков интерфейс взаимодействия молекул в химическом соединении?</li>
					<li>Какой интерфейс взаимодействия между человеком и арифметической операцией?</li>
					<li>Каков интерфейс банкомата? Кредитной карты?</li>
					<li>Приведите пример взаимодействия, для которого необходимо три или более объектов разных классов.</li>
					<li>Каков интерфейс взаимодействия человека и руки? Головы и руки?</li>
				</ol>
				<h2>Отношения между объектами.</h2>
					Объекты реального или программного миров могут состоять из других объектов – включать в себя объекты как неотъемлемую часть. Так, ручка – это часть кружки, двигатель – часть автомобиля, голова – часть человека. Такой способ отношения объектов называется агрегированием. Говорят, что кружка агрегирует ручку, или автомобиль агрегирует руль и другие детали.
				<p>
					Суть агрегирования – в физической неотъемлемости. Автомобиль без руля или двигателя – уже не автомобиль.
				<p>
					Другое, более слабое отношение между объектами позволяет объектом свободно разъединяться и объединяться. Пример такого отношения – отношение собственности. Мне принадлежит автомобиль и ручка. Я могу продать автомобиль и потерять ручку, и связь между мной и ими распадется. При этом я продолжу оставаться собой, ручка – ручкой, а автомобиль – автомобилем. Такая связь между объектами называется ассоциативной, или ассоциацией.
				<p>
					Существует несколько типов ассоциаций и агрегирования. Когда с одним объектом может быть связан только один другой объект, то связь называется “один к одному”. Например, гражданин РБ и его паспорт – это связь “один к одному”.
				<p>
					Когда с одним объектом может быть связано несколько объектов, связь называется “один ко многим”. Например, в один класс может входить несколько учеников. При этом ученик не может входить в несколько классов одновременно.
				<p>
					Если же с объектом первого типа может быть связано много объектов второго типа, то такая связь называется “многие ко многим”. Например, учебное заведение и человек. В учебное заведение может ходить много человек, а один человек может одновременно посещать и университет, и автошколу, и онлайн-курсы.
				<h2>Вопросы:</h2>
				<ol>
					<li>Чем отличается ассоциативная связь от агрегирования?</li>
					<li>Какой связью является связь дома и фундамента?</li>
					<li>Может ли агрегирование быть связью “один ко многим”. Приведите пример.</li>
					<li>Какой является связь водителя и машины? Дерева и апельсина на этом дереве? Ребенка и отца? Ребенка и родителей? Рыбы и моря?</li>
					<li>Какова связь книги и автора?</li>
					<li>Приведите пример, когда 3 или больше объектов разных классов образуют одно целое за счет агрегирования.</li>
				</ol>
				<h3>После этого урока вы должны понимать и уметь объяснить что такое:</h3>
				<ol>
					<li>класс, объект, иерархия классов</li>
					<li>инкапсуляция, наследование, полиморфизм</li>
					<li>интерфейс</li>
					<li>ассоциация, агрегирование</li>
					<li>один к одному, один ко многим, многие ко многим</li>
				</ol>
				<h3>После этого урока вы должны уметь:</h3>
				<ol>
					<li>выделять объекты, классы и их иерархии в любой предметной области</li>
					<li>выделять инкапсулированные свойства объектов</li>
					<li>выделять полиморфные действия в иерархиях классов</li>
					<li>выделять интерфейсы между взаимодействующими объектами</li>
					<li>разбивать объекты на агрегированные составляющие</li>
					<li>выделять ассоциативные связи между объектами</li>
					<li>определять тип агрегированной или ассоциативной связи</li>
				</ol>
		  </div>
	 </div>
</body>

</html>
